<!DOCTYPE html>
<html>
	<head>
		<title>TEste</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
	<body>
		<div>
			<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
				<ol class="carousel-indicators">
					<li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
					<li data-target="#carousel-example-generic" data-slide-to="1"></li>
					<li data-target="#carousel-example-generic" data-slide-to="2"></li>
					<li data-target="#carousel-example-generic" data-slide-to="3"></li>
				</ol>

				<!-- Wrapper for slides -->
				<div class="carousel-inner" role="listbox">
					<div class="item active" tipo="imagem">
						<img src="img/pessoas-felizes.jpg" class="img-carousel ">
						<div class="carousel-caption">
							...
						</div>
					</div>
					<div class="item " tipo="video" id="1dH5Df7KoSk">

					</div>
					<div class="item" tipo="imagem">
						<img src="img/pessoas-felizes.jpg" class="img-carousel ">
						<div class="carousel-caption">
							...
						</div>
					</div>
					<div class="item" tipo="imagem">
						<img src="img/pessoas-felizes.jpg" class="img-carousel ">
						<div class="carousel-caption">
							...
						</div>
					</div>

					<div class="item" tipo="video" id="y6fbsBVH7yw">

					</div>

				</div>

				<!-- Controls -->
				<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a>
				<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a>
			</div>
		</div>
		<!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
		<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.js"></script>
		<script>
			var player;
			var tag = document.createElement('script');
			tag.src = "https://www.youtube.com/iframe_api";
			var firstScriptTag = document.getElementsByTagName('script')[0];
			firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

			// Cycle pra ele rodar, prev pra ele voltar pro primeiro caso for vídeo
			$('#carousel-example-generic').on('slid.bs.carousel', function() {
				// do something…
				var tipo = $('.carousel-inner > .active').attr('tipo');
				if (tipo == 'video') {
					$(this).carousel('pause');
					var id_video = $('.carousel-inner > .active').attr('id');

					player = new YT.Player($('.carousel-inner > .active').attr('id'), {
						height : $(window).height(),
						width : $(window).width(),
						videoId : $('.carousel-inner > .active').attr('id'),
						events : {
							'onReady' : onPlayerReady,
							'onStateChange' : onPlayerStateChange
						}
					});

				}
			})
			// 4. The API will call this function when the video player is ready.
			function onPlayerReady(event) {
				event.target.playVideo();
			}

			// 5. The API calls this function when the player's state changes.
			//    The function indicates that when playing a video (state=1),
			//    the player should play for six seconds and then stop.
			var done = false;
			function onPlayerStateChange(event) {
				// alert(event.data)
				if (event.data == '0') {
					player.destroy()
					$('#carousel-example-generic').carousel('next').carousel('cycle');

				}
				// alert(event.state)
			}

			function destroi() {
				player.destroy()
			}

			function stopVideo() {
				player.stopVideo();
			}
		</script>
	</body>
</html>